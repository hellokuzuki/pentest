import sys
import requests
import socket
import json

def get_api_headers(url):
    return requests.get(url).headers

def get_ip_address(url):
    return socket.gethostbyname(url)

def get_host_location(url):
    json_rep = json.loads(requests.get('http://ipinfo.io/{}/json'.format(get_ip_address(sys.argv[1]))).text)
    return json_rep['loc'], json_rep['region'], json_rep['city'], json_rep['country']

if __name__ == "__main__":
    if len(sys.argv) < 2:
        print('Please input url!')
    else:

        url = 'http://{}'.format(sys.argv[1])
        print('API headers = {}'.format(get_api_headers(url)))

        print('IP address of host = {}'.format(get_ip_address(sys.argv[1])))

        location = get_host_location(url)
        print("""
        Location = {}
        Region   = {}
        City     = {}
        Country  = {}
        """.format(location[0], location[1], location[2], location[3]))